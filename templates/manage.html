{% extends "base.html" %}
{% block title %}弹幕管理{% endblock %}
{% block admin_options %}{% endblock %}
{% block style %}
<style>
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }

    table {
        text-align: center;
        table-layout: fixed;
        word-break: break-all;
    }

    table td {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }
</style>
{% endblock %}
{% block brand %}弹幕风险监控平台{% endblock %}
{% block navbar_style %}bg-info{% endblock %}
{% block nav_append %}
<li id="danmu-ban" class="nav-item">
    <a class="nav-link" href="javascript: loadBan()">账号封禁</a>
</li>
<li class="nav-item">
    <a class="nav-link text-white">当前在线管理员：{{ admin_name }}</a>
</li>
<li class="nav-item">
    <a class="nav-link text-white">服务器连接状态：<span id="status-monitor" class="text-warning">连接中</span></a>
</li>
{% endblock %}
{% block content %}
<br>
<div class="container-fluid">
    <div class="row mx-auto d-sm-block d-md-none">
        <div class="alert alert-warning alert-dismissible" style="width: 100%;">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>提示</strong> 强烈建议于PC端使用此页面
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <table class="table table-hover">
                <tbody id="result-container-1">

                </tbody>
            </table>
        </div>
        <div class="col-md-3">
            <table class="table table-hover">
                <tbody id="result-container-2">

                </tbody>
            </table>
        </div>
        <div class="col-md-3">
            <table class="table table-hover">
                <tbody id="result-container-3">

                </tbody>
            </table>
        </div>
        <div class="col-md-3">
            <table class="table table-hover">
                <tbody id="result-container-4">

                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade" id="banModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">用户封禁</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>学号</th>
                            <th>操作人</th>
                        </tr>
                    </thead>
                    <tbody id="banned-users">

                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button id="banuser-ban-btn" type="button" class="btn btn-danger">封禁用户</button>
                <button id="banuser-rec-btn" type="button" class="btn btn-warning">解封用户</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript" src="/static/js/manage.min.js"></script>
{% endblock %}